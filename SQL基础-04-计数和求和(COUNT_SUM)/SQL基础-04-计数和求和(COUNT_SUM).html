<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SQL基础-04-计数和求和(COUNT/SUM)</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__html"><p>环境：MySQL 5.7.29<br>
下文示例中用到的表 income_record 如下：<br>
<img src="https://i-blog.csdnimg.cn/blog_migrate/9dbb4e33d503a2d42746a1c781a18c3a.png" alt="0-原始数据.png"></p>
<h1><a id="1COUNT_3"></a>1、COUNT</h1>
<p>COUNT函数用于统计记录的条数，主要需要区分 <strong>COUNT(col)</strong>， <strong>COUNT(*)</strong>， <strong>COUNT(1)</strong> 三者的区别。其中 <strong>COUNT(col)</strong> 是统计列 col 的记录的条数，不会对该列的**空值(NULL)**进行计数；<strong>COUNT(*)</strong> 和 <strong>COUNT(1)</strong> 都是对全部记录的条数进行统计。COUNT函数既可以单独使用，也可以与GROUP BY函数搭配使用。</p>
<h3><a id="11_5"></a>1.1、单独使用</h3>
<p>现在单独使用COUNT函数对 income_record 表中的记录进行统计，代码如下：</p>
<pre><code>SELECT COUNT(age) AS c1,
	   COUNT(*) AS c2,
	   COUNT(1) AS c3

  FROM income_record
</code></pre>
<p>得到的结果如下：</p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/b1859fb4645fb22b5e5e919e9ec52975.png" alt="1-COUNT.png"></p>
<h3><a id="12GROUP_BY__17"></a>1.2、与GROUP BY 搭配使用</h3>
<p>现在使用 COUNT和GROUP BY 分别对 income_record 表中 name 列不同的值的条数进行统计，代码如下：</p>
<pre><code>SELECT name,
	   COUNT(age) AS c1,
	   COUNT(*) AS c2,
	   COUNT(1) AS c3

  FROM income_record
 GROUP BY name
</code></pre>
<p>得到的结果如下：<br>
<img src="https://i-blog.csdnimg.cn/blog_migrate/87b87303849aea5d97ec38a689869d84.png" alt="1-COUNT-GROUP_BY.png"></p>
<h1><a id="2SUM_30"></a>2、SUM</h1>
<p>SUM函数用于计数或求和，**SUM(1)<strong>与</strong>COUNT(*)/COUNT(1)**效果一样，用于统计记录的条数；**SUM(col)**用于对col列进行求和。SUM也可以单独使用或与GROUP BY搭配使用。</p>
<h3><a id="21_32"></a>2.1、单独使用</h3>
<p>现在单独使用SUM函数对 income_record 表中记录的条数进行统计，代码如下：</p>
<pre><code>SELECT SUM(1)

  FROM income_record
</code></pre>
<p>得到的结果如下：<br>
<img src="https://i-blog.csdnimg.cn/blog_migrate/1004166d487b21c89c30246c493c9b53.png" alt="2-SUM1.png"></p>
<h3><a id="22GROUP_BY__41"></a>2.2、与GROUP BY 搭配使用</h3>
<p>现在使用 SUM和GROUP BY 分别对 income_record 表中 name 列不同的值对应的 amount 进行求和，代码如下：</p>
<pre><code>SELECT name,
	   SUM(amount) AS sum_a

  FROM income_record
 GROUP BY name

</code></pre>
<p>得到的结果如下：<br>
<img src="https://i-blog.csdnimg.cn/blog_migrate/5e6e22a598f04e4507ec5b42b6a927a3.png" alt="2-SUM1-GROUP_BY.png"></p>
</div>
</body>

</html>
